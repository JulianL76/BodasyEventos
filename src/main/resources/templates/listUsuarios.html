<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.2/css/all.min.css"
        integrity="sha512-1sCRPdkRXhBV2PBLUdRb4tMg1w2YPf37qatUFeS7zlBy7jJI8Lf4VHwWfZZfpXtYSLy85pkm9GaYVYMfw5BC1A=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <title>Listado de personas</title>
    <link rel="stylesheet" href="/styles/styleTablas.css">
</head>

<body>
    <section>
        <div class="contenedor-header">
            <h4 class="barra-negra">Bodas y Eventos, Sistema de Gestión</h4>
            <header>
                <ul>
                    <li class="contenedor-item1">
                        <div class="logo">
                            <a href="/">Bodas & Eventos</a>
                            <h6>SISTEMA DE GESTIÓN</h6>
                        </div>
                    </li>
                </ul>
                <ul class="contenedor-item2">
                    <nav id="nav">
                        <ul class="menu" id="menu">
                            <li><a th:href="@{/inicio}">MENU</a></li>
                        </ul>
                    </nav>
                    <ul>
                        <div class="nav-responsive" onclick="mostrarOcultarMenu()">
                            <i class="fa-solid fa-bars"></i>
                        </div>
                    </ul>
                </ul>
                <ul class="iconos contenedor-item3">
                    <li><a href="/login"><i class="fa-regular fa-user"></i></a></li>
                </ul>
            </header>
        </div>
    </section>

    <div th:if="${param.exito}">
        <div class="alert alert-info" th:text="${param.exito}"></div>
    </div>
    <div th:if="${param.error}">
        <div class="alert alert-danger" th:text="${param.error}"></div>
    </div>

    <section class="tabla-container">
        <table>
            <h1>Listado de Usuarios</h1>

            <div class="centered-button">
                <button class="atras" type="button" onclick="window.location.href='/inicio/configuracion';"><i
                        class="fa-solid fa-arrow-left"></i></button>
            </div>
            <thead>
                <tr>
                    <th scope="col">Nombre</th>
                    <th scope="col">Correo Electrónico</th>
                    <th scope="col">Rol</th>
                    <th scope="col">Acciones</th>
                </tr>
            </thead>
            <tbody>
                <tr th:each="usuario : ${usuarios}">
                    <td th:text="${usuario.nombre}">Nombre</td>
                    <td th:text="${usuario.email}">Correo Electrónico</td>
                    <td th:text="${usuario.rol}">Rol</td>
                    <td>
                        <div class="actions-container">
                        <a th:unless="${usuario.id == idUsuarioActual || usuario.id == 2}"
                            th:href="@{'/usuarios/' + ${usuario.id} + '/toggle-activo'}"
                            th:text="${usuario.activo ? 'Desactivar' : 'Activar'}"
                            th:classappend="${usuario.activo ? 'activo' : 'inactivo'}"></a>
                        </a>
             
                        <a th:href="@{'/usuarios/' + ${usuario.id} + '/editar'}">
                            <button class="edit"><i class="fas fa-edit"></i></button>
                        </a>

                        <a th:href="@{'/inicio/configuracion/usuarios/' + ${usuario.id} + '/cambiarcontrasena'}">
                            <button class="change"><i class="fa-solid fa-lock"></i></button></a>
                        </div>
                    </td>
                </tr>
            </tbody>
        </table>
    </section>

    <footer>
        <div class="footer-grid">
            <div class="footer-left">
                <h2>BODAS & EVENTOS</h2>
                <h5>LUCE ESPECTACULAR CON NOSOTROS</h5>
            </div>
            <div class="footer-center">
                <!-- <a href="#">Política de Privacidad</a> -->
                <a href="https://www.google.com/maps/place/Cl.+11+%231-63,+Cúcuta,+Norte+de+Santander/@7.8869489,-72.5030012,16z/data=!4m6!3m5!1s0x8e66459e314d025f:0x70699452fc9ca966!8m2!3d7.8864917!4d-72.5002041!16s%2Fg%2F11spmz79wj?entry=ttu"
                    target="_blank">Donde Encontrarnos</a>
                <!-- <a href="#">Términos de Uso</a>
            <a href="#">Preguntas y Respuestas</a> -->
            </div>
            <div class="footer-right">
                <a href="#">Contacto</a>
                <div class="redes">
                    <a href="https://www.facebook.com/bodas.eventos11/?locale=es_LA" target="_blank"><i
                            class="fa-brands fa-facebook-f"></i></a>
                    <a href="https://www.instagram.com/cucutabodasyeventos/?hl=es" target="_blank"><i
                            class="fa-brands fa-instagram"></i></a>
                    <a href="https://wa.link/yl10zh" target="_blank"><i class="fa-brands fa-whatsapp"></i></a>
                </div>
            </div>
        </div>
        <p class="copyright">© 2023 BODAS Y EVENTOS. Todos los derechos reservados.</p>
    </footer>

</body>

</html>
